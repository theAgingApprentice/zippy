<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zippy: aaMqtt Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="zippyLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zippy
   </div>
   <div id="projectbrief">Two-wheeled balancing robot with closed loop DC motors.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classaa_mqtt-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">aaMqtt Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8fe0df533de2e25f1dfb2f0c8e626f7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#a8fe0df533de2e25f1dfb2f0c8e626f7d">aaMqtt</a> ()</td></tr>
<tr class="separator:a8fe0df533de2e25f1dfb2f0c8e626f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87e8a4db1a43fbd5d71b77a56a15b7e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#a87e8a4db1a43fbd5d71b77a56a15b7e0">~aaMqtt</a> ()</td></tr>
<tr class="separator:a87e8a4db1a43fbd5d71b77a56a15b7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7ce99a71ff5d6575dda7b1e60224850c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#a7ce99a71ff5d6575dda7b1e60224850c">connect</a> (IPAddress address, const char *uniqueName)</td></tr>
<tr class="memdesc:a7ce99a71ff5d6575dda7b1e60224850c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to MQTT broker.  <a href="classaa_mqtt.html#a7ce99a71ff5d6575dda7b1e60224850c">More...</a><br /></td></tr>
<tr class="separator:a7ce99a71ff5d6575dda7b1e60224850c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c">onMqttConnect</a> (bool sessionPresent)</td></tr>
<tr class="memdesc:adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler for connecting to the broker.  <a href="classaa_mqtt.html#adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c">More...</a><br /></td></tr>
<tr class="separator:adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6abfaec4d1b1fbeecb547433e98fa9fc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#a6abfaec4d1b1fbeecb547433e98fa9fc">onMqttDisconnect</a> (AsyncMqttClientDisconnectReason reason)</td></tr>
<tr class="memdesc:a6abfaec4d1b1fbeecb547433e98fa9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler for disconnecting from the broker.  <a href="classaa_mqtt.html#a6abfaec4d1b1fbeecb547433e98fa9fc">More...</a><br /></td></tr>
<tr class="separator:a6abfaec4d1b1fbeecb547433e98fa9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c3bfc78093d9d05ffad2a86f06ea68"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#a90c3bfc78093d9d05ffad2a86f06ea68">onMqttSubscribe</a> (uint16_t packetId, uint8_t qos)</td></tr>
<tr class="memdesc:a90c3bfc78093d9d05ffad2a86f06ea68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler for subscribing to a topic on the broker.  <a href="classaa_mqtt.html#a90c3bfc78093d9d05ffad2a86f06ea68">More...</a><br /></td></tr>
<tr class="separator:a90c3bfc78093d9d05ffad2a86f06ea68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be714946ce7d4ca63f4336778ada139"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#a1be714946ce7d4ca63f4336778ada139">onMqttUnsubscribe</a> (uint16_t packetId)</td></tr>
<tr class="memdesc:a1be714946ce7d4ca63f4336778ada139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler for subscribing to a topic on the broker.  <a href="classaa_mqtt.html#a1be714946ce7d4ca63f4336778ada139">More...</a><br /></td></tr>
<tr class="separator:a1be714946ce7d4ca63f4336778ada139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734c75270b275982cc4bdc79da9faafb"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#a734c75270b275982cc4bdc79da9faafb">publishMQTT</a> (const char *topic, const char *msg)</td></tr>
<tr class="memdesc:a734c75270b275982cc4bdc79da9faafb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publishes a message to the MQTT server.  <a href="classaa_mqtt.html#a734c75270b275982cc4bdc79da9faafb">More...</a><br /></td></tr>
<tr class="separator:a734c75270b275982cc4bdc79da9faafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab99783465de2e21a13eeadbb5e39b7b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#ab99783465de2e21a13eeadbb5e39b7b8">publishEvent</a> (int evtId, int evtSev, String evtMsg)</td></tr>
<tr class="memdesc:ab99783465de2e21a13eeadbb5e39b7b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publishes an event.  <a href="classaa_mqtt.html#ab99783465de2e21a13eeadbb5e39b7b8">More...</a><br /></td></tr>
<tr class="separator:ab99783465de2e21a13eeadbb5e39b7b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4234e578ec002c58e86db16b9162d8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#ada4234e578ec002c58e86db16b9162d8">onMqttMessage</a> (char *topic, char *payload, <a class="el" href="struct_async_mqtt_client_message_properties.html">AsyncMqttClientMessageProperties</a> properties, size_t len, size_t index, size_t total)</td></tr>
<tr class="memdesc:ada4234e578ec002c58e86db16b9162d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler for recieving a message from a subscribed topic.  <a href="classaa_mqtt.html#ada4234e578ec002c58e86db16b9162d8">More...</a><br /></td></tr>
<tr class="separator:ada4234e578ec002c58e86db16b9162d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235eb322300f2c9616754ba202962ad0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#a235eb322300f2c9616754ba202962ad0">onMqttPublish</a> (uint16_t packetId)</td></tr>
<tr class="memdesc:a235eb322300f2c9616754ba202962ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler for the ACK from a published message.  <a href="classaa_mqtt.html#a235eb322300f2c9616754ba202962ad0">More...</a><br /></td></tr>
<tr class="separator:a235eb322300f2c9616754ba202962ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a935c202d774043521d0378f2f708e"><td class="memItemLeft" align="right" valign="top">static String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaa_mqtt.html#a32a935c202d774043521d0378f2f708e">getCmd</a> ()</td></tr>
<tr class="memdesc:a32a935c202d774043521d0378f2f708e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler for the ACK from a published message.  <a href="classaa_mqtt.html#a32a935c202d774043521d0378f2f708e">More...</a><br /></td></tr>
<tr class="separator:a32a935c202d774043521d0378f2f708e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8fe0df533de2e25f1dfb2f0c8e626f7d" name="a8fe0df533de2e25f1dfb2f0c8e626f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe0df533de2e25f1dfb2f0c8e626f7d">&#9670;&nbsp;</a></span>aaMqtt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aaMqtt::aaMqtt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h1><a class="anchor" id="autotoc_md214"></a>
@class Write variables to flash memory.</h1>

</div>
</div>
<a id="a87e8a4db1a43fbd5d71b77a56a15b7e0" name="a87e8a4db1a43fbd5d71b77a56a15b7e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87e8a4db1a43fbd5d71b77a56a15b7e0">&#9670;&nbsp;</a></span>~aaMqtt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aaMqtt::~aaMqtt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h1><a class="anchor" id="autotoc_md215"></a>
@brief This is the destructor for this class.</h1>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7ce99a71ff5d6575dda7b1e60224850c" name="a7ce99a71ff5d6575dda7b1e60224850c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce99a71ff5d6575dda7b1e60224850c">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aaMqtt::connect </td>
          <td>(</td>
          <td class="paramtype">IPAddress&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connect to MQTT broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">IPAddress</td><td>IP address of the MQTT broker. </td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="autotoc_md216"></a>
@param char* Unique name used to prefix all topic trees.</h1>

</div>
</div>
<a id="a32a935c202d774043521d0378f2f708e" name="a32a935c202d774043521d0378f2f708e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a935c202d774043521d0378f2f708e">&#9670;&nbsp;</a></span>getCmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">String aaMqtt::getCmd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event handler for the ACK from a published message. </p>
<h1><a class="anchor" id="autotoc_md227"></a>
@param uint16_t Packet Id of message that was published.</h1>

</div>
</div>
<a id="adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c" name="adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac5c0bf0c8b6ab2ba6ee6b6c5c2ad7c">&#9670;&nbsp;</a></span>onMqttConnect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aaMqtt::onMqttConnect </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sessionPresent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event handler for connecting to the broker. </p>
<h1><a class="anchor" id="autotoc_md217"></a>
@param bool  Check to see if there are messages queued already.</h1>

</div>
</div>
<a id="a6abfaec4d1b1fbeecb547433e98fa9fc" name="a6abfaec4d1b1fbeecb547433e98fa9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6abfaec4d1b1fbeecb547433e98fa9fc">&#9670;&nbsp;</a></span>onMqttDisconnect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aaMqtt::onMqttDisconnect </td>
          <td>(</td>
          <td class="paramtype">AsyncMqttClientDisconnectReason&#160;</td>
          <td class="paramname"><em>reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event handler for disconnecting from the broker. </p>
<h1><a class="anchor" id="autotoc_md218"></a>
@param AsyncMqttClientDisconnectReason Reason code.</h1>

</div>
</div>
<a id="ada4234e578ec002c58e86db16b9162d8" name="ada4234e578ec002c58e86db16b9162d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4234e578ec002c58e86db16b9162d8">&#9670;&nbsp;</a></span>onMqttMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aaMqtt::onMqttMessage </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_async_mqtt_client_message_properties.html">AsyncMqttClientMessageProperties</a>&#160;</td>
          <td class="paramname"><em>properties</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>total</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event handler for recieving a message from a subscribed topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">char*</td><td>Topic message pertains to. <br  />
 </td></tr>
    <tr><td class="paramname">char*</td><td>Message payload. </td></tr>
    <tr><td class="paramname"><a class="el" href="struct_async_mqtt_client_message_properties.html">AsyncMqttClientMessageProperties</a></td><td>Message properties. </td></tr>
    <tr><td class="paramname">size_t</td><td>Length of message payload. </td></tr>
    <tr><td class="paramname">size_t</td><td>Message index. </td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="autotoc_md226"></a>
@param size_t Total length of message.</h1>

</div>
</div>
<a id="a235eb322300f2c9616754ba202962ad0" name="a235eb322300f2c9616754ba202962ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a235eb322300f2c9616754ba202962ad0">&#9670;&nbsp;</a></span>onMqttPublish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aaMqtt::onMqttPublish </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>packetId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event handler for the ACK from a published message. </p>
<h1><a class="anchor" id="autotoc_md228"></a>
@param uint16_t Packet Id of message that was published.</h1>

</div>
</div>
<a id="a90c3bfc78093d9d05ffad2a86f06ea68" name="a90c3bfc78093d9d05ffad2a86f06ea68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90c3bfc78093d9d05ffad2a86f06ea68">&#9670;&nbsp;</a></span>onMqttSubscribe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aaMqtt::onMqttSubscribe </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>packetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>qos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event handler for subscribing to a topic on the broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uint16_t</td><td>PackID that matches the subscription request. </td></tr>
    <tr><td class="paramname">uint8_t</td><td>SUBACK return code</td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="autotoc_md219"></a>
Suback Message</h1>
<p >To confirm each subscription, the broker sends a SUBACK acknowledgement message to the client. This message contains the packet identifier of the original Subscribe message (to clearly identify the message) and a list of return codes.</p>
<h2><a class="anchor" id="autotoc_md220"></a>
Packet Identifier</h2>
<p >The packet identifier is a unique identifier used to identify a message. It is the same as in the SUBSCRIBE message.</p>
<h2><a class="anchor" id="autotoc_md221"></a>
Return Code</h2>
<p >The broker sends one return code for each topic/QoS-pair that it receives in the SUBSCRIBE message. For example, if the SUBSCRIBE message has five subscriptions, the SUBACK message contains five return codes. The return code acknowledges each topic and shows the QoS level that is granted by the broker. If the broker refuses a subscription, the SUBACK message conains a failure return code for that specific topic. For example, if the client has insufficient permission to subscribe to the topic or the topic is malformed.</p>
<h1><a class="anchor" id="autotoc_md222"></a>
Table of SUBACK return codes</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Return Code   </th><th class="markdownTableHeadLeft">Return Code Response    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyLeft">Success - Maximum QoS 0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Success - Maximum QoS 1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyLeft">Success - Maximum QoS 2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">128   </td><td class="markdownTableBodyLeft">Failure   </td></tr>
</table>
<p>=========================================================================== </p>

</div>
</div>
<a id="a1be714946ce7d4ca63f4336778ada139" name="a1be714946ce7d4ca63f4336778ada139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1be714946ce7d4ca63f4336778ada139">&#9670;&nbsp;</a></span>onMqttUnsubscribe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aaMqtt::onMqttUnsubscribe </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>packetId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event handler for subscribing to a topic on the broker. </p>
<h1><a class="anchor" id="autotoc_md223"></a>
@param uint16_t PackID that matches the unsubscribe request.</h1>

</div>
</div>
<a id="ab99783465de2e21a13eeadbb5e39b7b8" name="ab99783465de2e21a13eeadbb5e39b7b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab99783465de2e21a13eeadbb5e39b7b8">&#9670;&nbsp;</a></span>publishEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void aaMqtt::publishEvent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>evtId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>evtSev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>evtMsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Publishes an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>Event ID. </td></tr>
    <tr><td class="paramname">int</td><td>Event severity. </td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="autotoc_md225"></a>
@param String Event message.</h1>

</div>
</div>
<a id="a734c75270b275982cc4bdc79da9faafb" name="a734c75270b275982cc4bdc79da9faafb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a734c75270b275982cc4bdc79da9faafb">&#9670;&nbsp;</a></span>publishMQTT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool aaMqtt::publishMQTT </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Publishes a message to the MQTT server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">char*</td><td>Topic to pubished to. </td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="autotoc_md224"></a>
@param char* Message to publish.</h1>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/aaMqtt-1.0.0/src/<a class="el" href="aa_mqtt_8h_source.html">aaMqtt.h</a></li>
<li>lib/aaMqtt-1.0.0/src/aaMqtt.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
